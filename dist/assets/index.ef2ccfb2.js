import{_ as j,g as G,r as H,d as O}from"./dialogForm.vue_vue_type_script_setup_true_lang.35e78b6a.js";import{s as T}from"./search.3fac065e.js";import{p as U}from"./plus.88432ff9.js";import{d as Z,G as D,r as J,H as K,I as Q,f as W,e,b as t,j as i,h as r,a as _,q as f,y as o,N as X,c as m,t as F,x as y,Z as Y,M as ee}from"./index.10772f47.js";import"./plugin-vue_export-helper.41ffa612.js";const te={class:"app-container"},ae={class:"card-header"},le=f("p",null,"\u786E\u8BA4\u91CD\u542F\u6B64\u8282\u70B9?",-1),oe={style:{"text-align":"right",margin:"0"}},ne=f("p",null,"\u786E\u8BA4\u5220\u9664\u6B64\u8282\u70B9?",-1),ue={style:{"text-align":"right",margin:"0"}},_e=Z({__name:"index",setup(ie){const{proxy:C}=ee();let g=D({title:"\u8282\u70B9",width:"500px",visible:!1}),v=J({});const s=D({loading:!0,total:0,listData:[],queryParams:{page:1,limit:15,ip:"",status:""}}),{loading:E,listData:x,total:$,queryParams:b}=K(s),d=()=>{g.visible=!1,s.loading=!0,G(s.queryParams).then(l=>{s.total=l.data.total,s.listData=l.data.data,s.loading=!1})},A=(l={ip:"",metrics_prefix:"",metrics_port:"",panel_prefix:"",panel_port:"",port:"",auth:"",multiple:"",remark:"",type:2,level:1,status:1})=>{v.value={...l},g.visible=!0},P=l=>{v.value={...l},g.visible=!0},R=l=>{C.$refs[`popoverRef_${l}`].hide()},k=l=>{C.$refs[`popoverReloadRef_${l}`].hide()},z=l=>{H(l.id).then(()=>{k(l.id),d()})},N=l=>{O(l.id).then(()=>{d()})},V=()=>{s.queryParams.page=1,d()};return Q(()=>{d()}),(l,p)=>{const q=r("el-input"),w=r("el-form-item"),u=r("el-button"),n=r("el-table-column"),c=r("el-tag"),B=r("el-popover"),I=r("el-table"),S=r("Pagination"),L=r("el-card"),M=Y("loading");return _(),W("div",te,[e(L,null,{header:t(()=>[f("div",ae,[e(w,null,{default:t(()=>[e(q,{modelValue:i(b).ip,"onUpdate:modelValue":p[0]||(p[0]=a=>i(b).ip=a),placeholder:"\u8BF7\u8F93\u5165IP"},null,8,["modelValue"])]),_:1}),e(w,null,{default:t(()=>[e(u,{type:"primary",icon:i(T),onClick:p[1]||(p[1]=a=>V())},{default:t(()=>[o("\u641C\u7D22")]),_:1},8,["icon"])]),_:1}),e(w,null,{default:t(()=>[e(u,{type:"success",icon:i(U),onClick:p[2]||(p[2]=a=>A())},{default:t(()=>[o("\u65B0\u589E")]),_:1},8,["icon"])]),_:1})])]),default:t(()=>[X((_(),m(I,{data:i(x),stripe:""},{default:t(()=>[e(n,{label:"ID",prop:"id",align:"center",width:"80"}),e(n,{label:"IP",prop:"ip",align:"center",width:"130"}),e(n,{label:"\u9762\u677F\u7AEF\u53E3",prop:"panel_port",align:"center",width:"120"}),e(n,{label:"\u7AEF\u53E3",prop:"port",align:"center",width:"120"}),e(n,{label:"\u8BA4\u8BC1",prop:"auth",align:"center",width:"120"}),e(n,{label:"\u5DF2\u7528\u7AEF\u53E3",prop:"has_many_port_count",align:"center",width:"120"},{default:t(a=>[e(c,{type:"success"},{default:t(()=>[o(F(a.row.has_many_port_count),1)]),_:2},1024)]),_:1}),e(n,{label:"\u7B49\u7EA7",prop:"level",align:"center",width:"80"},{default:t(a=>[e(c,{type:"success"},{default:t(()=>[o(F(a.row.level),1)]),_:2},1024)]),_:1}),e(n,{label:"\u5907\u6CE8",prop:"remark",align:"center"}),e(n,{label:"\u7C7B\u578B",prop:"type",align:"center",width:"80"},{default:t(a=>[a.row.type===1?(_(),m(c,{key:0,type:"success"},{default:t(()=>[o("\u4E2D\u8F6C")]),_:1})):y("",!0),a.row.type===2?(_(),m(c,{key:1,type:"success"},{default:t(()=>[o("\u76F4\u8FDE")]),_:1})):y("",!0)]),_:1}),e(n,{label:"\u72B6\u6001",prop:"status",align:"center",width:"80"},{default:t(a=>[a.row.status===0?(_(),m(c,{key:0,type:"info"},{default:t(()=>[o("\u7981\u7528")]),_:1})):y("",!0),a.row.status===1?(_(),m(c,{key:1,type:"success"},{default:t(()=>[o("\u6B63\u5E38")]),_:1})):y("",!0)]),_:1}),e(n,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"created_at",align:"center",width:"180"}),e(n,{label:"\u64CD\u4F5C",align:"center",width:"200"},{default:t(a=>[e(u,{type:"success",size:"small",onClick:h=>P(a.row)},{default:t(()=>[o("\u7F16\u8F91")]),_:2},1032,["onClick"]),e(B,{trigger:"click",ref:"popoverReloadRef_"+a.row.id,placement:"top",width:160},{reference:t(()=>[e(u,{type:"warning",size:"small"},{default:t(()=>[o("\u91CD\u542F")]),_:1})]),default:t(()=>[le,f("div",oe,[e(u,{size:"small",text:"",onClick:h=>k(a.row.id)},{default:t(()=>[o("\u53D6\u6D88")]),_:2},1032,["onClick"]),e(u,{size:"small",type:"primary",onClick:h=>z(a.row)},{default:t(()=>[o("\u786E\u8BA4")]),_:2},1032,["onClick"])])]),_:2},1536),e(B,{trigger:"click",ref:"popoverRef_"+a.row.id,placement:"top",width:160},{reference:t(()=>[e(u,{type:"danger",size:"small"},{default:t(()=>[o("\u5220\u9664")]),_:1})]),default:t(()=>[ne,f("div",ue,[e(u,{size:"small",text:"",onClick:h=>R(a.row.id)},{default:t(()=>[o("\u53D6\u6D88")]),_:2},1032,["onClick"]),e(u,{size:"small",type:"primary",onClick:h=>N(a.row)},{default:t(()=>[o("\u786E\u8BA4")]),_:2},1032,["onClick"])])]),_:2},1536)]),_:1})]),_:1},8,["data"])),[[M,i(E)]]),e(S,{layout:"prev, pager, next","page-sizes":[15,30,50,100],total:i($)},null,8,["total"])]),_:1}),e(j,{options:i(g),data:i(v),onClose:d,onSuccess:d},null,8,["options","data"])])}}});export{_e as default};
