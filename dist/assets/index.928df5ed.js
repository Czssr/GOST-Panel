import{_ as z,g as N,d as R}from"./dialogForm.vue_vue_type_script_setup_true_lang.462798dc.js";import{s as I}from"./search.3fac065e.js";import{p as L}from"./plus.88432ff9.js";import{d as M,G as v,r as S,H as U,I as j,f as G,e,b as t,j as l,h as o,a as h,q as m,y as c,N as H,c as O,Z as T,M as Z}from"./index.10772f47.js";import"./plugin-vue_export-helper.41ffa612.js";const J={class:"app-container"},K={class:"card-header"},Q=m("p",null,"\u786E\u8BA4\u5220\u9664\u6B64\u5BA1\u8BA1?",-1),W={style:{"text-align":"right",margin:"0"}},oe=M({__name:"index",setup(X){const{proxy:C}=Z();let p=v({title:"\u5BA1\u8BA1",width:"500px",visible:!1}),f=S({});const n=v({loading:!0,total:0,listData:[],queryParams:{page:1,limit:15,url:""}}),{loading:b,listData:B,total:y,queryParams:g}=U(n),r=()=>{p.visible=!1,n.loading=!0,N(n.queryParams).then(a=>{n.total=a.data.total,n.listData=a.data.data,n.loading=!1})},D=(a={url:""})=>{f.value={...a},p.visible=!0},F=a=>{C.$refs[`popoverRef_${a}`].hide()},w=a=>{R(a.id).then(()=>{r()})},k=()=>{n.queryParams.page=1,r()};return j(()=>{r()}),(a,s)=>{const x=o("el-input"),_=o("el-form-item"),u=o("el-button"),d=o("el-table-column"),A=o("el-popover"),P=o("el-table"),$=o("Pagination"),E=o("el-card"),V=T("loading");return h(),G("div",J,[e(E,null,{header:t(()=>[m("div",K,[e(_,null,{default:t(()=>[e(x,{modelValue:l(g).url,"onUpdate:modelValue":s[0]||(s[0]=i=>l(g).url=i),placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5"},null,8,["modelValue"])]),_:1}),e(_,null,{default:t(()=>[e(u,{type:"primary",icon:l(I),onClick:s[1]||(s[1]=i=>k())},{default:t(()=>[c("\u641C\u7D22")]),_:1},8,["icon"])]),_:1}),e(_,null,{default:t(()=>[e(u,{type:"success",icon:l(L),onClick:s[2]||(s[2]=i=>D())},{default:t(()=>[c("\u65B0\u589E")]),_:1},8,["icon"])]),_:1})])]),default:t(()=>[H((h(),O(P,{data:l(B),stripe:""},{default:t(()=>[e(d,{label:"ID",prop:"id",align:"center",width:"80"}),e(d,{label:"URL",prop:"url",align:"center"}),e(d,{label:"\u66F4\u65B0\u65F6\u95F4",prop:"updated_at",align:"center",width:"180"}),e(d,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"created_at",align:"center",width:"180"}),e(d,{label:"\u64CD\u4F5C",align:"center",width:"160"},{default:t(i=>[e(A,{trigger:"click",ref:"popoverRef_"+i.row.id,placement:"top",width:160},{reference:t(()=>[e(u,{type:"danger",size:"small"},{default:t(()=>[c("\u5220\u9664")]),_:1})]),default:t(()=>[Q,m("div",W,[e(u,{size:"small",text:"",onClick:q=>F(i.row.id)},{default:t(()=>[c("\u53D6\u6D88")]),_:2},1032,["onClick"]),e(u,{size:"small",type:"primary",onClick:q=>w(i.row)},{default:t(()=>[c("\u786E\u8BA4")]),_:2},1032,["onClick"])])]),_:2},1536)]),_:1})]),_:1},8,["data"])),[[V,l(b)]]),e($,{layout:"prev, pager, next","page-sizes":[15,30,50,100],total:l(y)},null,8,["total"])]),_:1}),e(z,{options:l(p),data:l(f),onClose:r,onSuccess:r},null,8,["options","data"])])}}});export{oe as default};
